<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cadastro | NailNow</title>
    <meta
      name="description"
      content="Escolha o tipo de cadastro NailNow para clientes ou profissionais."
    />
    <meta http-equiv="refresh" content="5; url=/cliente/cadastro.html" />
    <link rel="canonical" href="https://www.nailnow.app/cadastro.html" />
    <style>
      :root {
        color-scheme: light;
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      }
      body {
        margin: 0;
        min-height: 100vh;
        display: grid;
        place-items: center;
        background: #f6f7fb;
        color: #2f2d3d;
        padding: 1.5rem;
        text-align: center;
      }
      main {
        max-width: 480px;
        padding: 2rem 2.5rem;
        background: #ffffff;
        border-radius: 20px;
        box-shadow: 0 12px 30px rgba(69, 39, 160, 0.12);
      }
      h1 {
        margin-top: 0;
        color: #4527a0;
        font-size: 1.75rem;
      }
      p {
        line-height: 1.6;
        margin-bottom: 1.25rem;
      }
      a {
        color: #4527a0;
        font-weight: 600;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
    </style>
    <script>
      (function () {
        function resolveRole(search, hash) {
          const params = new URLSearchParams(search);
          const rawRole = [
            params.get("role"),
            params.get("tipo"),
            params.get("perfil"),
            hash ? hash.replace(/^#/, "") : "",
          ]
            .map((value) => (value ? value.toString().trim().toLowerCase() : ""))
            .find((value) => value);

          if (!rawRole) {
            return "cliente";
          }

          if (["profissional", "professional", "manicure", "manicures"].includes(rawRole)) {
            return "profissional";
          }

          return "cliente";
        }

        function buildRedirect(search, hash, role) {
          const params = new URLSearchParams(search);
          ["role", "tipo", "perfil"].forEach((key) => params.delete(key));
          const cleanedQuery = params.toString();
          const basePath = role === "profissional" ? "/profissional/cadastro.html" : "/cliente/cadastro.html";
          const query = cleanedQuery ? `?${cleanedQuery}` : "";
          const suffix = hash || "";
          return `${basePath}${query}${suffix}`;
        }

        try {
          const role = resolveRole(window.location.search, window.location.hash);
          const target = buildRedirect(window.location.search, window.location.hash, role);

          if (target !== window.location.pathname + window.location.search + window.location.hash) {
            window.location.replace(target);
            return;
          }
        } catch (error) {
          console.warn("Falha ao redirecionar cadastro", error);
        }
      })();
    </script>
  </head>
  <body>
    <main>
      <h1>Redirecionando seu cadastro…</h1>
      <p>
        Em instantes você será encaminhada para a página correta.<br />
        Se nada acontecer, escolha uma das opções abaixo:
      </p>
      <p>
        <a href="/cliente/cadastro.html">Cadastro para clientes</a><br />
        <a href="/profissional/cadastro.html">Cadastro para profissionais</a>
      </p>
    </main>
    <noscript>
      <p style="margin-top: 1.5rem; font-size: 0.95rem">
        Ative o JavaScript ou acesse diretamente
        <a href="/cliente/cadastro.html">/cliente/cadastro.html</a>.
      </p>
    </noscript>
  </body>
</html>
