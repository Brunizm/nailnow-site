<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Profissionais | NailNow</title>
    <meta
      name="description"
      content="Seja uma profissional NailNow: receba convites inteligentes, tenha pagamentos garantidos e suporte completo para crescer na carreira."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div class="promo-banner">Profissionais NailNow: autonomia, visibilidade e pagamentos garantidos.</div>

    <header class="site-header">
      <div class="header-inner">
        <a href="/" class="brand-mark" aria-label="Início da NailNow">NailNow</a>
        <div class="header-navigation">
          <nav class="primary-nav" aria-label="Principal">
            <a href="/" class="nav-link">Home</a>
            <a href="../como-funciona.html" class="nav-link">Como funciona</a>
            <a href="../servicos.html" class="nav-link">Serviços</a>
            <a href="../agendamentos.html" class="nav-link">Agendamentos</a>
          </nav>
          <div class="header-actions">
            <a href="../cliente/index.html" class="header-cta">Sou Cliente</a>
            <a href="../profissional/index.html" class="header-cta" aria-current="page">Sou Profissional</a>
            <a href="#acesso" class="header-cta">Entrar</a>
            <a
              class="social-link social-link--instagram"
              href="https://www.instagram.com/nailnowbr/"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Instagram da NailNow"
            >
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M7 3C4.24 3 2 5.24 2 8v8c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V8c0-2.76-2.24-5-5-5H7zm10 2a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h10zm-5 3.5A4.5 4.5 0 1 0 16.5 13 4.5 4.5 0 0 0 12 8.5zm0 2A2.5 2.5 0 1 1 9.5 13 2.5 2.5 0 0 1 12 10.5zm4.75-4.75a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </header>

    <main class="page-content">
      <section class="auth-layout" aria-labelledby="auth-heading" id="acesso">
        <div class="auth-hero">
          <p class="auth-kicker">Seja uma manicure NailNow</p>
          <h1 id="auth-heading">Organize sua agenda com clientes garantidas</h1>
          <p class="auth-intro">
            Faça login com seu e-mail cadastrado para acompanhar solicitações, confirmar atendimentos e gerenciar seus ganhos. Ainda
            não é parceira? Cadastre-se e comece a transformar sua rotina hoje mesmo.
          </p>
          <ul class="auth-benefits">
            <li>Receba pedidos de novas clientes diretamente no seu painel.</li>
            <li>Controle confirmações, reagendamentos e pagamentos em um só lugar.</li>
            <li>Conte com o suporte NailNow para crescer como profissional independente.</li>
          </ul>
          <div class="auth-actions auth-actions--stacked">
            <a href="./cadastro.html" class="auth-link-button">Quero me cadastrar</a>
            <a href="./portal.html" class="auth-secondary-link">Conheça o portal da manicure</a>
          </div>
        </div>

        <section class="auth-card" aria-labelledby="login-heading">
          <div class="auth-card__inner">
            <h2 id="login-heading">Entre com seu e-mail NailNow</h2>
            <p class="auth-card__hint">Após o login, redirecionamos você automaticamente para o portal com seus agendamentos.</p>
            <form id="login-form" class="auth-form" novalidate>
              <div class="auth-form__group">
                <label for="email">E-mail</label>
                <input type="email" id="email" name="email" autocomplete="email" required placeholder="seunome@nailnow.com" />
              </div>
              <div class="auth-form__group">
                <label for="password">Senha</label>
                <input
                  type="password"
                  id="password"
                  name="password"
                  autocomplete="current-password"
                  required
                  placeholder="••••••"
                />
              </div>
              <button type="submit" class="auth-form__submit">Entrar</button>
            </form>
            <div id="login-status" class="auth-status" role="alert" aria-live="polite" hidden></div>
            <div class="auth-actions">
              <button type="button" id="reset-password" class="auth-link-button">Esqueci minha senha</button>
              <a href="./cadastro.html" class="auth-secondary-link">Cadastre-se como manicure</a>
            </div>
          </div>
        </section>
      </section>

      <section class="portal-preview" aria-labelledby="portal-preview-heading">
        <div class="portal-preview__inner">
          <h2 id="portal-preview-heading">Veja o que te espera no portal</h2>
          <p>
            Ao acessar o portal, você acompanha solicitações de agendamento em tempo real, confirma atendimentos com um clique e
            visualiza o histórico completo dos serviços realizados.
          </p>
          <div class="portal-preview__grid">
            <article class="portal-preview__card">
              <h3>Solicitações</h3>
              <p>Analise novos pedidos, confirme disponibilidade e personalize respostas para suas clientes.</p>
            </article>
            <article class="portal-preview__card">
              <h3>Confirmados</h3>
              <p>Gerencie horários, combine deslocamentos e mantenha tudo sincronizado com a sua agenda.</p>
            </article>
            <article class="portal-preview__card">
              <h3>Histórico</h3>
              <p>Revise atendimentos passados, acompanhe avaliações e planeje ações para fidelizar cada cliente.</p>
            </article>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <div class="footer-column footer-column--brand">
          <h2 class="footer-logo">NailNow</h2>
          <p>Beleza na sua agenda com profissionais selecionadas, atendimento onde você estiver e suporte humanizado.</p>
        </div>
        <div class="footer-column footer-links" aria-label="Links úteis">
          <h3>FAQ</h3>
          <a href="../faq.html">Perguntas frequentes</a>
          <a href="../como-funciona.html">Como funciona</a>
          <a href="../agendamentos.html">Agendamentos</a>
        </div>
        <div class="footer-column footer-links" aria-label="Contato e suporte">
          <h3>Contato & suporte</h3>
          <a href="mailto:contato@nailnow.com">contato@nailnow.com</a>
        </div>
        <div class="footer-column footer-links" aria-label="Termos e políticas">
          <h3>Termos & políticas</h3>
          <a href="#">Termos de uso</a>
          <a href="#">Política de privacidade</a>
          <a href="#">Cookies e preferências</a>
        </div>
      </div>
      <p class="footer-copy">© NailNow 2025. Todos os direitos reservados.</p>
    </footer>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import {
        getAuth,
        onAuthStateChanged,
        sendPasswordResetEmail,
        signInWithEmailAndPassword,
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDvMxPKyw7M70fvj-YLwzudfIaquohkDIA",
        authDomain: "nailnow-site.firebaseapp.com",
        projectId: "nailnow-site",
        storageBucket: "nailnow-site.appspot.com",
        messagingSenderId: "145591976960",
        appId: "1:145591976960:web:957f13cd9d61acdfda4dde",
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      const loginForm = document.getElementById("login-form");
      const statusEl = document.getElementById("login-status");
      const submitButton = loginForm.querySelector("button[type='submit']");
      const resetButton = document.getElementById("reset-password");

      let redirecting = false;

      const setStatus = (message, type = "") => {
        statusEl.textContent = message;
        statusEl.classList.remove("auth-status--error", "auth-status--success");
        statusEl.hidden = !message;
        if (type) {
          statusEl.classList.add(`auth-status--${type}`);
        }
      };

      const setLoading = (isLoading) => {
        submitButton.disabled = isLoading;
        submitButton.textContent = isLoading ? "Entrando..." : "Entrar";
      };

      const redirectToPortal = () => {
        if (redirecting) return;
        redirecting = true;
        window.location.href = "./portal.html";
      };

      onAuthStateChanged(auth, (user) => {
        if (user) {
          redirectToPortal();
        }
      });

      loginForm.addEventListener("submit", async (event) => {
        event.preventDefault();
        const email = loginForm.email.value.trim();
        const password = loginForm.password.value;

        if (!email || !password) {
          setStatus("Preencha e-mail e senha para continuar.", "error");
          return;
        }

        setStatus("");
        setLoading(true);

        try {
          await signInWithEmailAndPassword(auth, email, password);
          setStatus("Login realizado com sucesso! Redirecionando para o portal...", "success");
          loginForm.reset();
          setTimeout(redirectToPortal, 900);
        } catch (error) {
          console.error("Erro no login", error);
          let friendlyMessage = "Não foi possível entrar. Verifique seus dados.";
          if (error.code === "auth/invalid-email") {
            friendlyMessage = "Formato de e-mail inválido.";
          } else if (error.code === "auth/user-not-found" || error.code === "auth/wrong-password") {
            friendlyMessage = "Credenciais não encontradas. Confira e tente novamente.";
          } else if (error.code === "auth/too-many-requests") {
            friendlyMessage = "Muitas tentativas. Aguarde alguns minutos e tente novamente.";
          }
          setStatus(friendlyMessage, "error");
        } finally {
          setLoading(false);
        }
      });

      resetButton.addEventListener("click", async () => {
        const email = loginForm.email.value.trim();
        if (!email) {
          setStatus("Informe seu e-mail para enviarmos o link de redefinição.", "error");
          return;
        }

        setStatus("Enviando instruções de redefinição...", "");
        resetButton.disabled = true;

        try {
          await sendPasswordResetEmail(auth, email);
          setStatus("Enviamos um link de redefinição para o seu e-mail.", "success");
        } catch (error) {
          console.error("Erro ao enviar redefinição", error);
          let friendlyMessage = "Não foi possível enviar o e-mail de redefinição.";
          if (error.code === "auth/invalid-email") {
            friendlyMessage = "Formato de e-mail inválido.";
          } else if (error.code === "auth/user-not-found") {
            friendlyMessage = "Não encontramos uma manicure com esse e-mail.";
          }
          setStatus(friendlyMessage, "error");
        } finally {
          resetButton.disabled = false;
        }
      });
    </script>
  </body>
</html>
