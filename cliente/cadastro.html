<!doctype html>
<html lang="pt-BR">
  <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NKTL1PLZ2J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NKTL1PLZ2J');
</script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Crie sua conta NailNow para agendar profissionais verificadas com rapidez, suporte e benefícios exclusivos."
    />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://www.nailnow.app/cliente/cadastro.html" />
    <link rel="alternate" hreflang="pt-BR" href="https://www.nailnow.app/cliente/cadastro.html" />
    <meta property="og:site_name" content="NailNow" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:title" content="Cliente | NailNow" />
    <meta
      property="og:description"
      content="Crie sua conta NailNow para agendar profissionais verificadas com rapidez, suporte e benefícios exclusivos."
    />
    <meta property="og:url" content="https://www.nailnow.app/cliente/cadastro.html" />
    <meta property="og:image" content="https://www.nailnow.app/assets/nail1.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Cliente | NailNow" />
    <meta
      name="twitter:description"
      content="Crie sua conta NailNow para agendar profissionais verificadas com rapidez, suporte e benefícios exclusivos."
    />
    <meta name="twitter:image" content="https://www.nailnow.app/assets/nail1.png" />
    <title>Cliente | NailNow</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../styles.css" />
    <link rel="icon" type="image/svg+xml" href="/assets/nailnow-logo.svg" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "NailNow",
        "url": "https://www.nailnow.app/",
        "logo": "https://www.nailnow.app/assets/nailnow-logo.svg",
        "sameAs": ["https://www.instagram.com/nailnowbr/"],
        "contactPoint": [
          {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "email": "suporte@nailnow.app",
            "availableLanguage": ["pt-BR"],
            "areaServed": "BR"
          }
        ],
        "areaServed": {
          "@type": "Country",
          "name": "Brasil"
        }
      }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Início",
            "item": "https://www.nailnow.app/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Cliente",
            "item": "https://www.nailnow.app/cliente/cadastro.html"
          }
        ]
      }
    </script>

    <link rel="icon" type="image/svg+xml" href="/assets/nailnow-logo.svg" />
  </head>

  <body>

    <header class="site-header">
      <div class="header-inner">
        <a href="/index.html" class="brand-mark" aria-label="Início da NailNow">
          <img src="/assets/nailnow-logo.svg" alt="Logotipo da NailNow" class="brand-mark__logo" />
          <span class="brand-mark__text">NailNow</span>
        </a>
        <div class="header-navigation">
          <nav class="primary-nav" aria-label="Principal">
            <a href="/" class="nav-link">Home</a>
            <a href="../como-funciona.html" class="nav-link">Como funciona</a>
            <a href="../servicos.html" class="nav-link">Serviços</a>
          </nav>
          <div class="header-actions">
            <a href="../cliente/index.html" class="header-cta" aria-current="page">Sou Cliente</a>
            <a href="../profissional/index.html" class="header-cta">Sou Profissional</a>
            <a
              class="social-link social-link--instagram"
              href="https://www.instagram.com/nailnowbr/"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Instagram da NailNow"
            >
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M7 3C4.24 3 2 5.24 2 8v8c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V8c0-2.76-2.24-5-5-5H7zm10 2a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h10zm-5 3.5A4.5 4.5 0 1 0 16.5 13 4.5 4.5 0 0 0 12 8.5zm0 2A2.5 2.5 0 1 1 9.5 13 2.5 2.5 0 0 1 12 10.5zm4.75-4.75a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section class="hero hero--client" aria-labelledby="cadastro-cliente">
        <div class="hero-copy">
          <span class="hero-label">Para clientes</span>
          <h1 id="cadastro-cliente">Crie sua conta e agende em minutos</h1>
          <ul class="client-perks">
            <li>
              Cadastre-se para encontrar profissionais avaliadas perto de você, acompanhar cada etapa do atendimento e receber
              suporte humanizado sempre que precisar.
            </li>
            <li>Profissionais verificadas com avaliações reais de outras clientes.</li>
            <li>Agendamentos rápidos com lembretes automáticos e pagamento seguro.</li>
            <li>Atendimento em casa ou no trabalho com cobertura NailNow.</li>
          </ul>
        </div>

        <div class="hero-media hero-media--signup">
          <div class="client-signup-card">
            <h2 class="client-signup-card__title">Comece agora</h2>
            <p class="client-signup-card__subtitle">Preencha seus dados para desbloquear ofertas e agendar sem filas.</p>
            <form id="formCliente" class="signup-form" autocomplete="off">
              <div class="signup-field">
                <label for="nomeCompleto">Nome completo *</label>
                <input id="nomeCompleto" name="nome" type="text" required />
              </div>

              <div class="signup-field">
                <label for="email">E-mail *</label>
                <input id="email" name="email" type="email" required />
              </div>

              <div class="signup-field">
                <label for="telefone">Telefone / WhatsApp *</label>
                <input
                  id="telefone"
                  name="telefone"
                  type="tel"
                  required
                  autocomplete="tel"
                  inputmode="tel"
                  placeholder="(11) 99999-0000"
                />
              </div>

              <div class="signup-field">
                <label for="senha">Senha *</label>
                <div class="password-input-wrapper">
                  <input id="senha" name="senha" type="password" minlength="6" required />
                  <button
                    type="button"
                    class="password-toggle"
                    data-password-target="senha"
                    aria-pressed="false"
                    aria-label="Mostrar senha"
                    title="Mostrar senha"
                  >
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path
                        d="M12 5c-4.13 0-7.5 2.86-9.42 7 1.92 4.14 5.29 7 9.42 7s7.5-2.86 9.42-7C19.5 7.86 16.13 5 12 5Zm0 11c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4Zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"
                      />
                    </svg>
                  </button>
                </div>
              </div>
              <div class="signup-field">
                <label for="confirmarSenha">Confirmar senha *</label>
                <div class="password-input-wrapper">
                  <input id="confirmarSenha" name="confirmarSenha" type="password" minlength="6" required />
                  <button
                    type="button"
                    class="password-toggle"
                    data-password-target="confirmarSenha"
                    aria-pressed="false"
                    aria-label="Mostrar senha"
                    title="Mostrar senha"
                  >
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path
                        d="M12 5c-4.13 0-7.5 2.86-9.42 7 1.92 4.14 5.29 7 9.42 7s7.5-2.86 9.42-7C19.5 7.86 16.13 5 12 5Zm0 11c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4Zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"
                      />
                    </svg>
                  </button>
                </div>
              </div>

              <input type="text" name="ignore_autofill" autocomplete="off" class="autofill-trap" aria-hidden="true" />

              <div class="signup-field">
                <label for="endereco">Endereço de atendimento *</label>
                <input
                  id="endereco"
                  name="endereco_text"
                  type="text"
                  required
                  autocomplete="off"
                  autocapitalize="off"
                  autocorrect="off"
                  spellcheck="false"
                  inputmode="text"
                />
              </div>

              <input type="hidden" id="endereco_formatado" name="endereco_formatado" />
              <input type="hidden" id="place_id" name="place_id" />
              <input type="hidden" id="lat" name="lat" />
              <input type="hidden" id="lng" name="lng" />

              <div class="signup-field">
                <label for="complemento">Complemento / Referência</label>
                <input id="complemento" name="complemento" type="text" placeholder="Apartamento, bloco, portaria..." />
              </div>

              <label class="signup-checkbox signup-checkbox--terms">
                <input id="termos" type="checkbox" name="aceiteTermos" required />
                <span class="signup-checkbox__text">
                  Li e aceito os <a href="#">Termos de uso</a> e a <a href="#">Política de privacidade</a> da NailNow.
                </span>
              </label>

              <button id="btnSubmit" type="submit" class="signup-submit">Criar conta cliente</button>
            </form>
          </div>
        </div>
      </section>

      <section class="client-highlight" aria-label="Por que agendar com a NailNow">
        <div class="client-highlight__intro">
          <span class="eyebrow">Benefícios para você</span>
          <h2>Experiência premium do agendamento ao pós-atendimento</h2>
          <p>
            Aproveite um ecossistema completo com profissionais selecionadas, suporte em tempo real e vantagens exclusivas em cada
            atendimento.
          </p>
        </div>
        <div class="client-highlight__grid">
          <article class="client-highlight__card">
            <h3>Profissionais verificadas</h3>
            <p>Documentos checados, teste prático e avaliações constantes garantem atendimentos seguros.</p>
          </article>
          <article class="client-highlight__card">
            <h3>Pagamento protegido</h3>
            <p>Transações seguras com confirmação instantânea e nota fiscal enviada ao seu e-mail.</p>
          </article>
          <article class="client-highlight__card">
            <h3>Suporte humanizado</h3>
            <p>Equipe pronta para ajudar antes, durante e após o agendamento em múltiplos canais.</p>
          </article>
        </div>
      </section>
    </main>

    <form id="cadastroFormCliente">
      <input id="clientName" type="text" placeholder="Seu nome" required />
      <input id="clientEmail" type="email" placeholder="Seu e-mail" required />
      <button type="submit">Criar cadastro (Cliente)</button>
    </form>

    <script>
      const CLIENT_QUICK_ENDPOINTS = [
        "https://southamerica-east1-nailnow-site.cloudfunctions.net/registerQuickLead",
        "https://southamerica-east1-nailnow-7546c.cloudfunctions.net/registerQuickLead",
        "https://southamerica-east1-nailnow-7546c-53f84.cloudfunctions.net/registerQuickLead",
      ];
      const QUICK_CLIENT_ORIGIN = "cliente-landing-quick-form";

      async function submitQuickLead(endpoints, payload) {
        const errors = [];

        for (const endpoint of endpoints) {
          try {
            const response = await fetch(endpoint, {
              method: "POST",
              headers: { "Content-Type": "application/json", Accept: "application/json" },
              body: JSON.stringify(payload),
            });

            const data = await response.json().catch(() => ({}));

            if (!response.ok) {
              errors.push({ endpoint, error: data?.error || `http-${response.status}` });
              if (response.status >= 400 && response.status < 500 && response.status !== 429) {
                break;
              }
              continue;
            }

            if (data?.ok) {
              return { endpoint, data };
            }

            errors.push({ endpoint, error: data?.error || "unknown-response" });
          } catch (err) {
            errors.push({ endpoint, error: err?.message || "network-error" });
          }
        }

        const lastError = errors.length ? errors[errors.length - 1] : null;
        return { error: lastError || { error: "unknown" }, attempts: errors };
      }

      const cadastroClienteForm = document.getElementById("cadastroFormCliente");

      if (cadastroClienteForm) {
        cadastroClienteForm.addEventListener("submit", async (e) => {
          e.preventDefault();

          const nameInput = document.getElementById("clientName");
          const emailInput = document.getElementById("clientEmail");
          const submitButton = cadastroClienteForm.querySelector("button[type='submit']");

          const name = (nameInput?.value || "").trim();
          const email = (emailInput?.value || "").trim();

          if (!name || !email) {
            alert("Preencha nome e e-mail para continuar.");
            return;
          }

          if (submitButton) {
            submitButton.disabled = true;
            submitButton.setAttribute("aria-busy", "true");
          }

          const payload = {
            type: "client",
            role: "cliente",
            nome: name,
            name,
            email,
            origem: QUICK_CLIENT_ORIGIN,
            referrer: window.location.href,
            pageUrl: window.location.href,
          };

          const endpoints = [...CLIENT_QUICK_ENDPOINTS];

          try {
            const result = await submitQuickLead(endpoints, payload);

            if (result?.data?.ok) {
              const data = result.data;
              const mailStatus = (data.mail?.status || "").toLowerCase();
              const successMessage = ["queued", "already-queued"].includes(mailStatus)
                ? "Recebemos seu cadastro! Enviamos um e-mail com os próximos passos."
                : data.profilePath
                  ? "Recebemos seu cadastro! Nossa equipe confirmará os dados e responderá pelo seu e-mail."
                  : "Recebemos seu cadastro! Em breve nossa equipe entrará em contato.";

              alert(successMessage);
              cadastroClienteForm.reset();
              return;
            }

            alert(
              "Não foi possível registrar seu interesse agora. Recarregue a página e tente novamente ou contate suporte@nailnow.app.",
            );
          } catch (err) {
            console.error("Erro inesperado ao enviar lead cliente", err);
            alert("Falha de conexão. Tente novamente.");
          } finally {
            if (submitButton) {
              submitButton.disabled = false;
              submitButton.removeAttribute("aria-busy");
            }
          }
        });
      }
    </script>

    <footer class="site-footer">
      <div class="footer-inner">
        <div class="footer-column footer-column--brand">
          <h2 class="footer-logo">NailNow</h2>
          <p>Beleza na sua agenda com profissionais selecionadas, atendimento onde você estiver e suporte humanizado.</p>
        </div>
        <div class="footer-column footer-links" aria-label="Links úteis">
          <h3>FAQ</h3>
          <a href="../faq.html">Perguntas frequentes</a>
          <a href="../como-funciona.html">Como funciona</a>
          <a href="../agendamentos.html">Agendamentos</a>
        </div>
        <div class="footer-column footer-links" aria-label="Contato e suporte">
          <h3>Contato & suporte</h3>
          <a href="mailto:suporte@nailnow.app">suporte@nailnow.app</a>
        </div>
        <div class="footer-column footer-links" aria-label="Termos e políticas">
          <h3>Termos & políticas</h3>
          <a href="#">Termos de uso</a>
          <a href="#">Política de privacidade</a>
          <a href="#">Cookies e preferências</a>
        </div>
      </div>
      <p class="footer-copy">© NailNow 2025. Todos os direitos reservados.</p>
    </footer>

    <nav class="bottom-nav" aria-label="Navegação inferior fixa">
      <a href="/" class="bottom-nav__link" aria-label="Ir para o início">Home</a>
      <a href="../servicos.html" class="bottom-nav__link" aria-label="Buscar serviços profissionais">Buscar</a>
      <a href="../cliente/index.html" class="bottom-nav__link" aria-label="Ver agendamentos">Agendamentos</a>
      <a href="../cliente/" class="bottom-nav__link" aria-label="Ver perfil ou fazer login">Perfil</a>
    </nav>

    <script src="/assets/js/password-toggle.js"></script>
    <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, collection, addDoc, serverTimestamp, getDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCFLccZ3khmT8uqoye6n6kfbqMFRzeXybE",
    authDomain: "nailnow-7546c.firebaseapp.com",
    projectId: "nailnow-7546c",
    storageBucket: "nailnow-7546c.firebasestorage.app",
    messagingSenderId: "413820353687",
    appId: "1:413820353687:web:ad92108dbea59f7749fdd2",
    measurementId: "G-2YEGPEG0E1"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const form = document.getElementById("formCliente");
  const btn  = document.getElementById("btnSubmit");
  let msg = document.getElementById("formMsg");
  if (!msg) {
    msg = document.createElement("p");
    msg.id = "formMsg";
    msg.style.marginTop = "10px";
    form.appendChild(msg);
  }

  function setStatus(text, color="#555") {
    msg.style.color = color;
    msg.textContent = text;
  }

  // Garante um único listener
  form.replaceWith(form.cloneNode(true));
  const formFixed = document.getElementById("formCliente");

  formFixed.addEventListener("submit", async (e) => {
    e.preventDefault();
    e.stopImmediatePropagation();

    const nome = document.getElementById("nomeCompleto")?.value?.trim() || "";
    const email = document.getElementById("email")?.value?.trim() || "";
    const telefone = document.getElementById("telefone")?.value?.trim() || "";
    const senha = document.getElementById("senha")?.value || "";
    const confirmarSenha = document.getElementById("confirmarSenha")?.value || "";
    const endereco = document.getElementById("endereco")?.value?.trim() || "";
    const complemento = document.getElementById("complemento")?.value?.trim() || "";
    const termos = document.getElementById("termos")?.checked || false;

    if (!termos) { setStatus("Marque os Termos para continuar.", "red"); return; }
    if (senha !== confirmarSenha) { setStatus("As senhas não coincidem.", "red"); return; }

    const originalText = btn?.textContent;
    if (btn) { btn.disabled = true; btn.textContent = "Enviando dados..."; }
    setStatus("Salvando seu cadastro...");

    try {
      const payload = { nome, email, telefone, senha, endereco, complemento, termos, criadoEm: serverTimestamp() };
      console.log("[NailNow] addDoc → clientes", payload);

      const docRef = await addDoc(collection(db, "clientes"), payload);
      console.log("[NailNow] gravado id:", docRef.id);

      // Read-back para confirmar
     const snap = await getDoc(doc(db, "clientes", docRef.id));
      console.log("[NailNow] read-back ok:", snap.exists(), snap.data());

      setStatus("Cadastro salvo com sucesso!", "green");
      if (btn) btn.textContent = "✅ Enviado com sucesso!";
      formFixed.reset();
    } catch (error) {
      console.error("[NailNow] erro Firestore:", { code: error.code, message: error.message, stack: error.stack });
      setStatus(error?.message || "Não foi possível salvar agora.", "red");
      if (btn) btn.textContent = "Tentar novamente";
    } finally {
      setTimeout(() => {
        if (btn) { btn.disabled = false; btn.textContent = originalText || "Criar conta cliente"; }
      }, 3000);
    }
  });
</script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCeFS75JZeUXATAztu5ntNpgCT-wfNlai0&libraries=places&language=pt-BR&region=BR" defer></script>
    <script>
      window.initEnderecoAutocomplete = function () {
        const input = document.getElementById("endereco");
        if (!input || !window.google || !google.maps?.places) return;

        const ac = new google.maps.places.Autocomplete(input, {
          types: ["geocode"],
          componentRestrictions: { country: "br" },
          fields: ["formatted_address", "place_id", "geometry"],
        });

        ac.addListener("place_changed", () => {
          const place = ac.getPlace();
          const loc = place.geometry?.location;
          document.getElementById("endereco_formatado").value = place.formatted_address || "";
          document.getElementById("place_id").value = place.place_id || "";
          document.getElementById("lat").value = loc?.lat() || "";
          document.getElementById("lng").value = loc?.lng() || "";
        });
      };

      window.addEventListener("load", () => {
        const tryInit = () => {
          if (window.google && google.maps?.places) window.initEnderecoAutocomplete();
          else setTimeout(tryInit, 300);
        };
        tryInit();
      });
    </script>
  </body>
</html>
