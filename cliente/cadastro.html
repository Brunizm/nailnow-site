<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Crie sua conta NailNow para agendar profissionais verificadas com rapidez, suporte e benef√≠cios exclusivos."
    />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://www.nailnow.app/cliente/cadastro.html" />
    <meta property="og:site_name" content="NailNow" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Cliente | NailNow" />
    <meta
      property="og:description"
      content="Crie sua conta NailNow para agendar profissionais verificadas com rapidez, suporte e benef√≠cios exclusivos."
    />
    <meta property="og:url" content="https://www.nailnow.app/cliente/cadastro.html" />
    <meta property="og:image" content="https://www.nailnow.app/assets/nail1.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Cliente | NailNow" />
    <meta
      name="twitter:description"
      content="Crie sua conta NailNow para agendar profissionais verificadas com rapidez, suporte e benef√≠cios exclusivos."
    />
    <meta name="twitter:image" content="https://www.nailnow.app/assets/nail1.png" />
    <title>Cliente | NailNow</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../styles.css" />
    <link rel="icon" type="image/svg+xml" href="/assets/nailnow-logo.svg" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "NailNow",
        "url": "https://www.nailnow.app/",
        "logo": "https://www.nailnow.app/assets/nailnow-logo.svg",
        "sameAs": ["https://www.instagram.com/nailnowbr/"]
      }
    </script>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import {
        getAuth,
        createUserWithEmailAndPassword,
        signInWithEmailAndPassword,
        signOut,
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
      import {
        getFirestore,
        doc,
        setDoc,
        updateDoc,
        serverTimestamp,
        collection,
        addDoc,
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyBHVZ9M6btJemXCIG-g5dG0xWq_jy50H7o",
        authDomain: "nailnow-site.firebaseapp.com",
        projectId: "nailnow-site",
        storageBucket: "nailnow-site.appspot.com",
        messagingSenderId: "726392294571",
        appId: "1:726392294571:web:a363a40231f7ac162e7bee",
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);
      const CONFIRMATION_ENDPOINT =
        "https://southamerica-east1-nailnow-site.cloudfunctions.net/requestSignupConfirmation";
      const MAIL_COLLECTION = "mail";
      const SUPPORT_SENDER = "NailNow <suporte@nailnow.app>";
      const MAIL_SOURCE = "client-signup-form";

      const FORM_ID = "cadastroClienteForm";
      const SUBMIT_ID = "signup-submit";
      const FEEDBACK_ID = "signup-feedback";

      const FEEDBACK_COLORS = {
        info: "#4527a0",
        error: "#c62828",
        success: "#2e7d32",
      };

      function sanitizeMailPayload(mailPayload, context = {}) {
        if (!mailPayload || typeof mailPayload !== "object") {
          return null;
        }

        const toRaw = Array.isArray(mailPayload.to) ? mailPayload.to : [];
        const to = toRaw
          .map((value) => (typeof value === "string" ? value.trim() : ""))
          .filter((value) => value);

        if (!to.length) {
          return null;
        }

        const metadata = mailPayload.metadata || {};
        const confirmationUrl =
          context.confirmationUrl || metadata.confirmationUrl || "";

        const subjectFallback = "Confirme seu cadastro no NailNow üíÖ";
        const textFallback = confirmationUrl
          ? `Ol√°! Confirme seu cadastro acessando: ${confirmationUrl}`
          : "Ol√°! Confirme seu cadastro no NailNow.";
        const htmlFallback = confirmationUrl
          ? `<p>Ol√°! üíñ Confirme seu cadastro clicando no bot√£o abaixo:</p><p style="margin:24px 0;"><a href="${confirmationUrl}" style="background-color:#7c3aed;color:#ffffff;padding:12px 20px;border-radius:999px;text-decoration:none;display:inline-block;font-weight:600;">Confirmar cadastro</a></p><p>Se o bot√£o n√£o funcionar, copie e cole este link:<br /><span style=\"word-break:break-all;\">${confirmationUrl}</span></p>`
          : "<p>Ol√°! üíñ Confirme seu cadastro no NailNow.</p>";

        const message = {
          subject: mailPayload.message?.subject || subjectFallback,
          text: mailPayload.message?.text || textFallback,
          html: mailPayload.message?.html || htmlFallback,
        };

        return {
          to,
          from: SUPPORT_SENDER,
          message,
          metadata: {
            ...metadata,
            role: context.role || metadata.role || "cliente",
            queuedBy: context.queuedBy || metadata.queuedBy || MAIL_SOURCE,
            profilePath: context.profilePath || metadata.profilePath || null,
            confirmationUrl: confirmationUrl || null,
            emailType: metadata.emailType || "confirmation",
          },
        };
      }

      async function enqueueMailFallback(mailPayload, context = {}) {
        const sanitized = sanitizeMailPayload(mailPayload, context);
        if (!sanitized) {
          return { mailId: null, mailStatus: "missing-email" };
        }

        const mailRef = await addDoc(collection(db, MAIL_COLLECTION), sanitized);
        return { mailId: mailRef.id, mailStatus: "queued" };
      }

      async function persistConfirmationStatus(docRef, updates = {}) {
        if (!docRef) return;

        const payload = {};
        const queuedBy = updates.queuedBy || MAIL_SOURCE;

        payload["signupConfirmation.preparedBy"] = queuedBy;
        payload["signupConfirmation.preparedAt"] = serverTimestamp();

        if (updates.mailStatus) {
          payload["signupConfirmation.mailStatus"] = updates.mailStatus;
        }

        if (updates.confirmationUrl) {
          payload["signupConfirmation.confirmationUrl"] = updates.confirmationUrl;
        }

        if (updates.mailId) {
          payload["signupConfirmation.mailId"] = updates.mailId;
          payload["signupConfirmation.mailDocumentId"] = updates.mailId;
          payload["signupConfirmation.mailQueuedBy"] = queuedBy;
          payload["signupConfirmation.mailQueuedAt"] = serverTimestamp();
        }

        if (Object.keys(payload).length) {
          await updateDoc(docRef, payload);
        }
      }

      function setFeedback(element, message, variant = "info") {
        if (!element) return;
        if (!message) {
          element.textContent = "";
          element.style.removeProperty("color");
          element.removeAttribute("data-variant");
          return;
        }

        element.textContent = message;
        element.dataset.variant = variant;
        element.style.color = FEEDBACK_COLORS[variant] ?? FEEDBACK_COLORS.info;
      }

      function setFeedback(element, message, variant = "info") {
        if (!element) return;
        if (!message) {
          element.textContent = "";
          element.style.removeProperty("color");
          element.removeAttribute("data-variant");
          return;
        }

        element.textContent = message;
        element.dataset.variant = variant;
        element.style.color = FEEDBACK_COLORS[variant] ?? FEEDBACK_COLORS.info;
      }

        const message = buildConfirmationMessage({ name, confirmationUrl });
        const payload = {
          to: [trimmedEmail.toLowerCase()],
          from: SUPPORT_SENDER,
          message,
          metadata: {
            role: "cliente",
            emailType: "confirmation",
            profilePath,
            confirmationUrl,
            confirmationToken: token,
            queuedBy: "client-signup-form",
          },
        };

        const mailRef = await addDoc(collection(db, MAIL_COLLECTION), payload);
        return { mailId: mailRef.id };
      }
      async function ensureAuthAccount(email, senha) {
        try {
          const cred = await createUserWithEmailAndPassword(auth, email, senha);
          return { user: cred.user, isNew: true };
        } catch (error) {
          if (error.code === "auth/email-already-in-use") {
            const cred = await signInWithEmailAndPassword(auth, email, senha);
            return { user: cred.user, isNew: false };
          }
          throw error;
        }
      }

      async function safeSignOut() {
        try {
          if (auth.currentUser) {
            await signOut(auth);
          }
        } catch (error) {
          console.warn("N√£o foi poss√≠vel encerrar a sess√£o ap√≥s o cadastro", error);
        }
      }

      async function requestConfirmation(profilePath) {
        if (!profilePath) {
          throw new Error("missing-profile-path");
        }

        try {
          const response = await fetch(CONFIRMATION_ENDPOINT, {
            method: "POST",
            mode: "cors",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ profile: profilePath }),
          });

          if (!response.ok) {
            let errorCode = `http-${response.status}`;
            try {
              const payload = await response.json();
              if (payload?.error) {
                errorCode = payload.error;
              }
            } catch (parseError) {
              /* ignore parse error */
            }
            const httpError = new Error(errorCode);
            httpError.code = errorCode;
            throw httpError;
          }

          return await response.json();
        } catch (error) {
          console.error("Falha ao solicitar e-mail de confirma√ß√£o para cliente", error);
          throw error;
        }
      }

      function setSubmittingState(button, isSubmitting, idleLabel) {
        if (!button) return;
        button.disabled = isSubmitting;
        if (isSubmitting) {
          button.setAttribute("aria-busy", "true");
        } else {
          button.removeAttribute("aria-busy");
        }
        button.textContent = isSubmitting ? "Enviando‚Ä¶" : idleLabel;
      }

      let isProcessing = false;

      async function processClientSignup(event) {
        event?.preventDefault();
        if (isProcessing) {
          return;
        }

        const form = document.getElementById(FORM_ID);
        const button = document.getElementById(SUBMIT_ID);
        const feedback = document.getElementById(FEEDBACK_ID);

        if (!form || !button) {
          console.warn("Formul√°rio de cadastro de cliente n√£o encontrado");
          return;
        }

        isProcessing = true;
        setFeedback(feedback, "");

        try {
          const formData = new FormData(form);
          const nome = (formData.get("nome") || "").toString().trim();
          const email = (formData.get("email") || "").toString().trim().toLowerCase();
          const senha = (formData.get("senha") || "").toString();
          const confirmarSenha = (formData.get("confirmarSenha") || "").toString();
          const telefone = (formData.get("telefone") || "").toString().trim();
          const endereco = (formData.get("endereco_text") || "").toString().trim();
          const complemento = (formData.get("complemento") || "").toString().trim();
          const enderecoFormatado = (formData.get("endereco_formatado") || "").toString();
          const placeId = (formData.get("place_id") || "").toString();
          const lat = (formData.get("lat") || "").toString();
          const lng = (formData.get("lng") || "").toString();
          const aceiteTermos = formData.get("aceiteTermos") === "on" || form.aceiteTermos?.checked;

          if (!nome || !email || !senha || !confirmarSenha || !endereco) {
            setFeedback(feedback, "Preencha os campos obrigat√≥rios (*).", "error");
            feedback?.focus();
            isProcessing = false;
            return;
          }

          if (senha !== confirmarSenha) {
            setFeedback(feedback, "As senhas n√£o coincidem.", "error");
            form.querySelector("#confirmarSenha")?.focus();
            isProcessing = false;
            return;
          }

          if (!aceiteTermos) {
            setFeedback(feedback, "√â necess√°rio aceitar os termos para continuar.", "error");
            form.aceiteTermos?.focus();
            isProcessing = false;
            return;
          }

          setSubmittingState(button, true, "Criar conta cliente");
          button.textContent = "Criando conta‚Ä¶";
          setFeedback(feedback, "Validando seus dados‚Ä¶", "info");

          const { user, isNew } = await ensureAuthAccount(email, senha);
          const uid = user.uid;
          btn.textContent = "Salvando cadastro‚Ä¶";

          const profilePath = `clientes/${uid}`;
          let confirmationQueued = false;
          let confirmationError = null;

          const profilePath = `clientes/${uid}`;
          const confirmationToken = generateConfirmationToken();
          const confirmationUrl = buildConfirmationUrl(profilePath, confirmationToken);

          let mailId = null;
          let confirmationQueued = false;

          button.textContent = "Salvando cadastro‚Ä¶";

          const profilePath = `clientes/${uid}`;
          const payload = {
            uid,
            nome,
            email,
            senha,
            telefone,
            endereco,
            complemento,
            endereco_formatado: enderecoFormatado,
            place_id: placeId,
            lat,
            lng,
            preferencias: [],
            newsletter: false,
            aceiteTermos: Boolean(aceiteTermos),
            atualizadoEm: serverTimestamp(),
          };

          let welcomeEmailQueued = null;
          if (isNew) {
            payload.criadoEm = serverTimestamp();
            payload.status = "pendente";
            payload.emailVerificado = false;
            payload.signupConfirmation = {
              status: "pending",
              role: "cliente",
              preparedBy: "client-signup-form",
              preparedAt: serverTimestamp(),
            };
          }

          const docRef = doc(db, "clientes", uid);
          await setDoc(docRef, payload, { merge: true });

          let confirmationQueued = false;
          let confirmationError = null;
          let confirmationMailStatus = "not-requested";
          let confirmationMailId = null;

          if (isNew) {
            button.textContent = "Solicitando confirma√ß√£o‚Ä¶";
            try {
              const result = await requestConfirmation(profilePath);
              const normalizedStatus = (result?.mailStatus || "").toLowerCase();
              confirmationMailStatus = normalizedStatus || confirmationMailStatus;

              if (["queued", "already-queued"].includes(normalizedStatus)) {
                confirmationQueued = true;
                if (result?.mailId) {
                  confirmationMailId = result.mailId;
                }
              } else if (result?.mailPayload) {
                try {
                  const fallback = await enqueueMailFallback(result.mailPayload, {
                    role: "cliente",
                    queuedBy: MAIL_SOURCE,
                    profilePath,
                    confirmationUrl:
                      result?.confirmationUrl || result?.mailPayload?.metadata?.confirmationUrl || "",
                  });
                  confirmationMailStatus = fallback.mailStatus || confirmationMailStatus;
                  if (fallback.mailId) {
                    confirmationQueued = true;
                    confirmationMailId = fallback.mailId;
                    confirmationError = null;
                  }
                } catch (fallbackError) {
                  confirmationMailStatus = "error";
                  confirmationError = fallbackError;
                }
              }

              await persistConfirmationStatus(docRef, {
                queuedBy: MAIL_SOURCE,
                mailStatus: confirmationQueued
                  ? confirmationMailStatus || "queued"
                  : confirmationMailStatus || "requires-client-enqueue",
                mailId: confirmationMailId || result?.mailId || null,
                confirmationUrl:
                  result?.confirmationUrl || result?.mailPayload?.metadata?.confirmationUrl || null,
              });
            } catch (error) {
              confirmationError = error;
              confirmationMailStatus = "error";
              try {
                await persistConfirmationStatus(docRef, {
                  queuedBy: MAIL_SOURCE,
                  mailStatus: "error",
                });
              } catch (persistError) {
                console.warn("N√£o foi poss√≠vel registrar o status da confirma√ß√£o do cliente", persistError);
              }
            }
          }

          if (isNew) {
            let message;
            let variant = "info";

            if (confirmationQueued) {
              message =
                "‚úÖ Cadastro enviado! Verifique seu e-mail (suporte@nailnow.app) para confirmar sua conta e acessar o portal.";
              variant = "success";
            } else if (confirmationError) {
              message =
                "‚ö†Ô∏è Cadastro enviado! N√£o conseguimos preparar o e-mail autom√°tico agora. Entre em contato pelo suporte@nailnow.app para concluir a ativa√ß√£o.";
              variant = "error";
            } else if (confirmationMailStatus === "missing-email") {
              message =
                "‚ö†Ô∏è Cadastro enviado! Precisamos de um e-mail v√°lido para enviar a confirma√ß√£o. Atualize o cadastro ou contate suporte@nailnow.app.";
              variant = "info";
            } else {
              message =
                "‚ö†Ô∏è Cadastro enviado! Assim que receber o e-mail de confirma√ß√£o enviado por suporte@nailnow.app, finalize o processo para liberar o acesso. Caso n√£o receba em alguns minutos, verifique o spam ou contate suporte@nailnow.app.";
              variant = "info";
            }

            setFeedback(feedback, message, variant);
          } else {
            setFeedback(feedback, "‚úÖ Dados atualizados!", "success");
          }

          feedback.textContent = isNew
            ? "‚úÖ Cadastro enviado! Verifique seu e-mail para confirmar o acesso."
            : "‚úÖ Dados atualizados!";
          feedback.style.color = "#2e7d32";
          form.reset();
          if (form.aceiteTermos) {
            form.aceiteTermos.checked = false;
          }
        } catch (error) {
          console.error(error);
          const code = error?.code || "erro-desconhecido";
          if (code === "auth/wrong-password") {
            setFeedback(feedback, "‚ùå Erro: A senha informada n√£o confere com a conta existente.", "error");
          } else if (code === "auth/invalid-login-credentials") {
            setFeedback(feedback, "‚ùå Erro: N√£o foi poss√≠vel confirmar seus dados de acesso.", "error");
          } else {
            const message = error?.message ? error.message.replace(/^Firebase: /, "") : code;
            setFeedback(feedback, `‚ùå Erro: ${message}`, "error");
          }
        } finally {
          await safeSignOut();
          setSubmittingState(document.getElementById(SUBMIT_ID), false, "Criar conta cliente");
          isProcessing = false;
        }
      }

      window.cadastrarCliente = cadastrarCliente;

      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("cadastroClienteForm");
        if (!form) {
          console.error("Formul√°rio de cadastro de cliente n√£o encontrado na p√°gina.");
          return;
        }

        form.addEventListener("submit", cadastrarCliente);
        form.setAttribute("novalidate", "novalidate");
        form.removeAttribute("action");
        console.info("üìÑ Formul√°rio de cadastro de cliente pronto para enviar dados ao Firebase.");
      });
    </script>
    <link rel="icon" type="image/svg+xml" href="/assets/nailnow-logo.svg" />
  </head>

  <body>
    <div class="promo-banner">Clientes NailNow: agende profissionais verificadas com conforto e seguran√ßa.</div>

    <header class="site-header">
      <div class="header-inner">
        <a href="/index.html" class="brand-mark" aria-label="In√≠cio da NailNow">
          <img src="/assets/nailnow-logo.svg" alt="" class="brand-mark__logo" />
          <span class="brand-mark__text">NailNow</span>
        </a>
        <div class="header-navigation">
          <nav class="primary-nav" aria-label="Principal">
            <a href="/" class="nav-link">Home</a>
            <a href="../como-funciona.html" class="nav-link">Como funciona</a>
            <a href="../servicos.html" class="nav-link">Servi√ßos</a>
          </nav>
          <div class="header-actions">
            <a href="../cliente/index.html" class="header-cta" aria-current="page">Sou Cliente</a>
            <a href="../profissional/index.html" class="header-cta">Sou Profissional</a>
            <a
              class="social-link social-link--instagram"
              href="https://www.instagram.com/nailnowbr/"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Instagram da NailNow"
            >
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M7 3C4.24 3 2 5.24 2 8v8c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V8c0-2.76-2.24-5-5-5H7zm10 2a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h10zm-5 3.5A4.5 4.5 0 1 0 16.5 13 4.5 4.5 0 0 0 12 8.5zm0 2A2.5 2.5 0 1 1 9.5 13 2.5 2.5 0 0 1 12 10.5zm4.75-4.75a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section class="hero hero--client" aria-labelledby="cadastro-cliente">
        <div class="hero-copy">
          <span class="hero-label">Para clientes</span>
          <h1 id="cadastro-cliente">Crie sua conta e agende em minutos</h1>
          <ul class="client-perks">
            <li>
              Cadastre-se para encontrar profissionais avaliadas perto de voc√™, acompanhar cada etapa do atendimento e receber
              suporte humanizado sempre que precisar.
            </li>
            <li>Profissionais verificadas com avalia√ß√µes reais de outras clientes.</li>
            <li>Agendamentos r√°pidos com lembretes autom√°ticos e pagamento seguro.</li>
            <li>Atendimento em casa ou no trabalho com cobertura NailNow.</li>
          </ul>
        </div>

        <div class="hero-media hero-media--signup">
          <div class="client-signup-card">
            <h2 class="client-signup-card__title">Comece agora</h2>
            <p class="client-signup-card__subtitle">Preencha seus dados para desbloquear ofertas e agendar sem filas.</p>
            <form id="cadastroClienteForm" class="signup-form" autocomplete="off">
              <div class="signup-field">
                <label for="nome">Nome completo *</label>
                <input id="nome" name="nome" type="text" required />
              </div>

              <div class="signup-field">
                <label for="email">E-mail *</label>
                <input id="email" name="email" type="email" required />
              </div>

              <div class="signup-field">
                <label for="telefone">Telefone / WhatsApp</label>
                <input id="telefone" name="telefone" type="tel" placeholder="(11) 99999-0000" />
              </div>

              <div class="signup-field">
                <label for="senha">Senha *</label>
                <div class="password-input-wrapper">
                  <input id="senha" name="senha" type="password" minlength="6" required />
                  <button
                    type="button"
                    class="password-toggle"
                    data-password-target="senha"
                    aria-pressed="false"
                  >
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path
                        d="M12 5c-4.13 0-7.5 2.86-9.42 7 1.92 4.14 5.29 7 9.42 7s7.5-2.86 9.42-7C19.5 7.86 16.13 5 12 5Zm0 11c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4Zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"
                      />
                    </svg>
                    <span class="password-toggle__label">Mostrar senha</span>
                  </button>
                </div>
              </div>
              <div class="signup-field">
                <label for="confirmarSenha">Confirmar senha *</label>
                <div class="password-input-wrapper">
                  <input id="confirmarSenha" name="confirmarSenha" type="password" minlength="6" required />
                  <button
                    type="button"
                    class="password-toggle"
                    data-password-target="confirmarSenha"
                    aria-pressed="false"
                  >
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path
                        d="M12 5c-4.13 0-7.5 2.86-9.42 7 1.92 4.14 5.29 7 9.42 7s7.5-2.86 9.42-7C19.5 7.86 16.13 5 12 5Zm0 11c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4Zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"
                      />
                    </svg>
                    <span class="password-toggle__label">Mostrar senha</span>
                  </button>
                </div>
              </div>

              <input type="text" name="ignore_autofill" autocomplete="off" class="autofill-trap" aria-hidden="true" />

              <div class="signup-field">
                <label for="endereco">Endere√ßo de atendimento *</label>
                <input
                  id="endereco"
                  name="endereco_text"
                  type="text"
                  required
                  autocomplete="off"
                  autocapitalize="off"
                  autocorrect="off"
                  spellcheck="false"
                  inputmode="text"
                />
              </div>

              <input type="hidden" id="endereco_formatado" name="endereco_formatado" />
              <input type="hidden" id="place_id" name="place_id" />
              <input type="hidden" id="lat" name="lat" />
              <input type="hidden" id="lng" name="lng" />

              <div class="signup-field">
                <label for="complemento">Complemento / Refer√™ncia</label>
                <input id="complemento" name="complemento" type="text" placeholder="Apartamento, bloco, portaria..." />
              </div>

              <label class="signup-checkbox signup-checkbox--terms">
                <input type="checkbox" name="aceiteTermos" required />
                <span class="signup-checkbox__text">
                  Li e aceito os <a href="#">Termos de uso</a> e a <a href="#">Pol√≠tica de privacidade</a> da NailNow.
                </span>
              </label>

              <button id="signup-submit" type="submit" class="signup-submit">Criar conta cliente</button>
              <p id="signup-feedback" class="signup-feedback" role="status" aria-live="polite"></p>
            </form>
          </div>
        </div>
      </section>

      <section class="client-highlight" aria-label="Por que agendar com a NailNow">
        <div class="client-highlight__intro">
          <span class="eyebrow">Benef√≠cios para voc√™</span>
          <h2>Experi√™ncia premium do agendamento ao p√≥s-atendimento</h2>
          <p>
            Aproveite um ecossistema completo com profissionais selecionadas, suporte em tempo real e vantagens exclusivas em cada
            atendimento.
          </p>
        </div>
        <div class="client-highlight__grid">
          <article class="client-highlight__card">
            <h3>Profissionais verificadas</h3>
            <p>Documentos checados, teste pr√°tico e avalia√ß√µes constantes garantem atendimentos seguros.</p>
          </article>
          <article class="client-highlight__card">
            <h3>Pagamento protegido</h3>
            <p>Transa√ß√µes seguras com confirma√ß√£o instant√¢nea e nota fiscal enviada ao seu e-mail.</p>
          </article>
          <article class="client-highlight__card">
            <h3>Suporte humanizado</h3>
            <p>Equipe pronta para ajudar antes, durante e ap√≥s o agendamento em m√∫ltiplos canais.</p>
          </article>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <div class="footer-column footer-column--brand">
          <h2 class="footer-logo">NailNow</h2>
          <p>Beleza na sua agenda com profissionais selecionadas, atendimento onde voc√™ estiver e suporte humanizado.</p>
        </div>
        <div class="footer-column footer-links" aria-label="Links √∫teis">
          <h3>FAQ</h3>
          <a href="../faq.html">Perguntas frequentes</a>
          <a href="../como-funciona.html">Como funciona</a>
          <a href="../agendamentos.html">Agendamentos</a>
        </div>
        <div class="footer-column footer-links" aria-label="Contato e suporte">
          <h3>Contato & suporte</h3>
          <a href="mailto:suporte@nailnow.app">suporte@nailnow.app</a>
        </div>
        <div class="footer-column footer-links" aria-label="Termos e pol√≠ticas">
          <h3>Termos & pol√≠ticas</h3>
          <a href="#">Termos de uso</a>
          <a href="#">Pol√≠tica de privacidade</a>
          <a href="#">Cookies e prefer√™ncias</a>
        </div>
      </div>
      <p class="footer-copy">¬© NailNow 2025. Todos os direitos reservados.</p>
    </footer>

    <nav class="bottom-nav" aria-label="Navega√ß√£o inferior fixa">
      <a href="/" class="bottom-nav__link" aria-label="Ir para o in√≠cio">Home</a>
      <a href="../servicos.html" class="bottom-nav__link" aria-label="Buscar servi√ßos profissionais">Buscar</a>
      <a href="../cliente/index.html" class="bottom-nav__link" aria-label="Ver agendamentos">Agendamentos</a>
      <a href="../cliente/" class="bottom-nav__link" aria-label="Ver perfil ou fazer login">Perfil</a>
    </nav>

    <script src="/assets/js/password-toggle.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCeFS75JZeUXATAztu5ntNpgCT-wfNlai0&libraries=places&language=pt-BR&region=BR" defer></script>
    <script>
      window.initEnderecoAutocomplete = function () {
        const input = document.getElementById("endereco");
        if (!input || !window.google || !google.maps?.places) return;

        const ac = new google.maps.places.Autocomplete(input, {
          types: ["geocode"],
          componentRestrictions: { country: "br" },
          fields: ["formatted_address", "place_id", "geometry"],
        });

        ac.addListener("place_changed", () => {
          const place = ac.getPlace();
          const loc = place.geometry?.location;
          document.getElementById("endereco_formatado").value = place.formatted_address || "";
          document.getElementById("place_id").value = place.place_id || "";
          document.getElementById("lat").value = loc?.lat() || "";
          document.getElementById("lng").value = loc?.lng() || "";
          console.log("üìç Endere√ßo salvo:", place.formatted_address);
        });
      };

      window.addEventListener("load", () => {
        const tryInit = () => {
          if (window.google && google.maps?.places) window.initEnderecoAutocomplete();
          else setTimeout(tryInit, 300);
        };
        tryInit();
      });
    </script>
  </body>
</html>
